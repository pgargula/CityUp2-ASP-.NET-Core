
@{
    ViewData["Title"] = "CityApplications";
}
<div class="box">
    <div class="row justify-content-center">
        <button onclick="showList()" type="button" class="btn btn-outline-secondary"><img src="~/images/list.png" width="20" /> Lista</button>
        <button onclick="showMap()" type="button" class="btn btn-outline-secondary"><img src="~/images/map.png" width="20" /> Mapa</button>
    </div>

    <div class="dataTable-custom" id="list">
        <table id="applicationTable" class="display table-striped" style="width:100%">
            <thead>
                <tr>
                    <th>Tytuł</th>
                    <th>Kategoria</th>
                    <th>Ulica</th>
                    <th>Zdjęcie</th>
                    <th class="text-center">Action</th>
                </tr>
            </thead>
        </table>
    </div>

    <div style="display: none;" id="googleMap"></div>

</div>


@section Styles{
    <environment include="Development">
        <link rel="stylesheet" href="~/css/datatables.css" asp-append-version="true" />
    </environment>
    <environment exclude="Development">
        <link rel="stylesheet" href="~/css/datatables.min.css" asp-append-version="true" />
    </environment>
}

@section Scripts{

    <script>
        var list = document.getElementById("list");
        var map = document.getElementById("googleMap");
        function showList() {
            list.style.display = "block";
            map.style.display = "none";
        }
        function showMap() {
            list.style.display = "none";
            map.style.display = "block";
        }


           var CityId =@User.Claims.FirstOrDefault(x => x.Type == "CityId").Value;
           var url="GetAllByCity/" + CityId
    </script>
    <script src="~/js/applicationTableContent.js" asp-append-version="true"></script>

    <script>
        function initMap() {
            // The location of Uluru
            var uluru = { lat: -25.344, lng: 131.036 };
            // The map, centered at Uluru
            var map = new google.maps.Map(
                document.getElementById('googleMap'), { zoom: 4, center: uluru });
            // The marker, positioned at Uluru
            var marker = new google.maps.Marker({ position: uluru, map: map });
        }

    </script>

    <script async defer
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD7Qw325kHLvatZTnfpP9M6lGsU5l8qLFI&callback=initMap">
    </script>

}

